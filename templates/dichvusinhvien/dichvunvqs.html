{% extends "dichvusinhvien/base_dvsv.html" %}

{% block content %}

<section class="min-h-screen py-6 px-3 sm:py-10 sm:px-6 lg:px-8 bg-gray-50 flex items-center justify-center">
    <div class="max-w-xs sm:max-w-xl md:max-w-7xl mx-auto bg-white shadow-xl rounded-lg overflow-hidden md:flex">
        <div class="md:w-1/2 p-4 sm:p-6 flex items-center justify-center bg-gradient-to-br">
            <div class="w-full h-full flex flex-col items-center justify-center">
                <img src="{{ url_for('static', filename='images/hotro.png') }}" alt="Hỗ trợ sinh viên" class="rounded-lg shadow-lg w-full h-auto object-cover max-w-[400px] sm:max-w-full mx-auto mb-4">
            </div>
        </div>
        
        <div class="md:w-1/2 p-4 sm:p-6 lg:p-8">
            <h2 class="text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-900 mb-4 sm:mb-6 text-center" style="font-family: font2;">Dịch Vụ Hỗ Trợ Sinh Viên</h2>
            <div class="bg-blue-50 p-4 sm:p-6 rounded-lg shadow-inner">
                <h3 class="text-lg sm:text-xl lg:text-2xl font-bold text-blue-700 mb-4 sm:mb-6 text-center" style="font-family: font2;">BIỂU MẪU ĐĂNG KÝ</h3>
                
                <form id="mainForm" action="/register-services" method="POST" class="space-y-4 sm:space-y-6">
                    <div class="form-group mb-4">
                        <label class="block text-sm font-bold text-gray-700 mb-2">Chọn loại giấy tờ cần đăng ký <span class="text-red-500">*</span></label>
                        <div class="flex flex-wrap gap-4 items-center">
                            <div class="flex items-center">
                                <input type="checkbox" id="check-cnsv" name="services" value="Giấy chứng nhận sinh viên" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                                <label for="check-cnsv" class="ml-2 block text-sm text-gray-900">Giấy chứng nhận sinh viên</label>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="check-nvqs" name="services" value="Giấy hoãn nghĩa vụ quân sự" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                                <label for="check-nvqs" class="ml-2 block text-sm text-gray-900">Giấy hoãn nghĩa vụ quân sự</label>
                            </div>
                            <div class="flex items-center">
                                <input type="checkbox" id="check-vayvon" name="services" value="Giấy xác nhận vay vốn" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded">
                                <label for="check-vayvon" class="ml-2 block text-sm text-gray-900">Giấy xác nhận vay vốn</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="full_name" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Họ và tên <span class="text-red-500">*</span></label>
                        <input type="text" id="full_name" name="full_name" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 focus:border-blue-500 border" required placeholder="Nhập họ và tên">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="form-group">
                            <label for="date_of_birth" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Ngày sinh <span class="text-red-500">*</span></label>
                            <input type="date" id="date_of_birth" name="date_of_birth" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 focus:border-blue-500 border" required>
                        </div>
                        <div class="form-group">
                            <label for="gender" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Giới tính <span class="text-red-500">*</span></label>
                            <select id="gender" name="gender" class="mt-1 block w-full pl-3 pr-10 py-1.5 sm:py-2 text-sm sm:text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md appearance-none bg-white border" required>
                                <option value="Nam">Nam</option>
                                <option value="Nữ">Nữ</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="form-group">
                            <label for="place_of_birth" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Nơi sinh <span class="text-red-500">*</span></label>
                            <input type="text" id="place_of_birth" name="place_of_birth" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 focus:border-blue-500 border" required placeholder="Nhập nơi sinh">
                        </div>
                        <div class="form-group">
                            <label for="cccd" class="block text-xs sm:text-sm text-gray-700 mb-0.5 sm:mb-1">Số CCCD <span class="text-red-500">*</span></label>
                            <input type="text" id="cccd" name="cccd" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 focus:border-blue-500 border" required placeholder="Nhập số CCCD">
                        </div>
                        <div class="form-group">
                            <label for="cccd_issue_date" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Ngày cấp CCCD <span class="text-red-500">*</span></label>
                            <input type="date" id="cccd_issue_date" name="cccd_issue_date" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 focus:border-blue-500 border" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="permanent_residence" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Hộ khẩu thường trú <span class="text-red-500">*</span></label>
                        <input type="text" id="permanent_residence" name="permanent_residence" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 focus:border-blue-500 border" required placeholder="Nhập hộ khẩu thường trú">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="form-group">
                            <label for="major" class="block text-xs sm:text-sm font-bold text-gray-700 mb-0.5 sm:mb-1">Ngành học <span class="text-red-500">*</span></label>
                            <select id="major" name="major" class="mt-1 block w-full pl-3 pr-10 py-1.5 sm:py-2 text-sm sm:text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md appearance-none bg-white border" required>
                                <option value="Kế toán doanh nghiệp">Kế toán doanh nghiệp</option>
                                <option value="Quản trị kinh doanh">Quản trị kinh doanh</option>
                                <option value="Tài chính ngân hàng">Tài chính ngân hàng</option>
                                <option value="Thương mại điện tử">Thương mại điện tử</option>
                                <option value="Logistic">Logistic</option>
                                <option value="Thú y">Thú y</option>
                                <option value="Công nghệ thông tin">Công nghệ thông tin</option>
                                <option value="Công nghệ ô tô">Công nghệ ô tô</option>
                                <option value="Công nghệ thực phẩm">Công nghệ thực phẩm</option>
                                <option value="Dược">Dược</option>
                                <option value="Điều dưỡng">Điều dưỡng</option>
                                <option value="Y sĩ đa khoa">Y sĩ đa khoa</option>
                                <option value="Kỹ thuật phục hình răng">Kỹ thuật phục hình răng</option>
                                <option value="Kỹ thuật phục hồi chức năng">Kỹ thuật phục hồi chức năng</option>
                                <option value="Y học cổ truyền">Y học cổ truyền</option>
                                <option value="Du lịch">Du lịch</option>
                                <option value="Ngôn ngữ Anh">Ngôn ngữ Anh</option>
                                <option value="Luật dịch vụ pháp lý">Luật dịch vụ pháp lý</option>
                                <option value="Sư phạm mầm non">Sư phạm mầm non</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="training_system" class="block text-xs sm:text-sm font-bold text-gray-700 mb-0.5 sm:mb-1">Hệ đào tạo <span class="text-red-500">*</span></label>
                            <select id="training_system" name="training_system" class="mt-1 block w-full pl-3 pr-10 py-1.5 sm:py-2 text-sm sm:text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md appearance-none bg-white border" required>
                                <option value="Chính quy">Chính quy</option>
                                <option value="Liên thông VB2">Liên thông VB2</option>
                                <option value="Liên thông VB2 Đại học">Liên thông VB2 Đại học</option>
                                <option value="Phổ thông 9+">Phổ thông 9+</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="training_level" class="block text-xs sm:text-sm font-bold text-gray-700 mb-0.5 sm:mb-1">Trình độ đào tạo <span class="text-red-500">*</span></label>
                            <select id="training_level" name="training_level" class="mt-1 block w-full pl-3 pr-10 py-1.5 sm:py-2 text-sm sm:text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md appearance-none bg-white border" required>
                                <option value="Cao đẳng">Cao đẳng</option>
                                <option value="Phổ thông">Phổ thông</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="form-group">
                            <label for="training_course" class="block text-xs sm:text-sm font-bold text-gray-700 mb-0.5 sm:mb-1">Khóa đào tạo <span class="text-red-500">*</span></label>
                            <select id="training_course" name="training_course" class="mt-1 block w-full pl-3 pr-10 py-1.5 sm:py-2 text-sm sm:text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md appearance-none bg-white border" required>
                                <option value="2025 - 2028">2025 - 2028</option>
                                <option value="2024 - 2027">2024 - 2027</option>
                                <option value="2023 - 2026">2023 - 2026</option>
                                <option value="2022 - 2025">2022 - 2025</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="class_info" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Lớp học <span class="text-red-500">*</span></label>
                            <div id="class_info" class="read-only-div mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 bg-gray-100 text-gray-700 border font-bold" style="font-family: font2;"></div>
                            <input type="hidden" id="class_name" name="class_name">
                        </div>
                        <div class="form-group">
                            <label for="number_of_copies" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Số lượng bản <span class="text-red-500">*</span></label>
                            <input type="number" id="number_of_copies" name="number_of_copies" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 font-bold focus:border-blue-500 border" value="1">
                        </div>
                    </div>

                    <div id="vayvon-options" class="space-y-4 sm:space-y-6 hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="form-group">
                                <label for="mien_giam" class="block text-xs sm:text-sm font-bold text-gray-700 mb-0.5 sm:mb-1">Thuộc diện <span class="text-red-500">*</span></label>
                                <select id="mien_giam" name="mien_giam" class="mt-1 block w-full pl-3 pr-10 py-1.5 sm:py-2 text-sm sm:text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md appearance-none bg-white border" disabled>
                                    <option value="Không miễn giảm">Không miễn giảm</option>
                                    <option value="Giảm học phí">Giảm học phí</option>
                                    <option value="Miễn học phí">Miễn học phí</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="doi_tuong" class="block text-xs sm:text-sm font-bold text-gray-700 mb-0.5 sm:mb-1">Thuộc đối tượng <span class="text-red-500">*</span></label>
                                <select id="doi_tuong" name="doi_tuong" class="mt-1 block w-full pl-3 pr-10 py-1.5 sm:py-2 text-sm sm:text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 rounded-md appearance-none bg-white border" disabled>
                                    <option value="Mồ côi">Mồ côi</option>
                                    <option value="Không mồ côi">Không mồ côi</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email" class="block text-xs sm:text-sm font-medium text-gray-700 mb-0.5 sm:mb-1">Bạn muốn nhận thông báo qua email khi hồ sơ bạn đã được xử lý thì hãy điền email nhé</label>
                        <input type="email" id="email" name="email" class="mt-1 block w-full shadow-sm text-sm border-gray-300 rounded-md p-1.5 sm:p-2 focus:ring-blue-500 focus:border-blue-500 border" placeholder="Nhập email của bạn">
                    </div>

                    <button type="submit" class="w-full flex justify-center py-2 sm:py-3 px-3 sm:px-4 border border-transparent rounded-md shadow-sm text-base sm:text-lg font-medium text-white bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-300 ease-in-out">
                        Gửi thông tin
                    </button>
                    <div id="messageContainer" class="mt-4 text-center text-sm font-bold"></div>
                </form>
            </div>
        </div>
    </div>
</section>

<style>
/* Tùy chỉnh thêm cho layout mới */
@media (min-width: 768px) {
    .md\:w-2\/5 {
        min-height: 100%;
        display: flex;
        align-items: stretch;
    }
    
    .md\:w-3\/5 {
        min-height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
}

/* Đảm bảo ảnh và form có chiều cao bằng nhau */
.md\:flex {
    align-items: stretch;
}

/* Cải thiện responsive cho mobile */
@media (max-width: 767px) {
    .md\:w-2\/5, .md\:w-3\/5 {
        width: 100% !important;
    }
    
    .md\:flex {
        flex-direction: column;
    }
}
@media (min-width: 640px) {
    .sm\:max-w-full {
        margin-top: 65px;
        max-width: 90%;
        padding-right: 0px !important;
    }
}
</style>

<script src="{{ url_for('static', filename='js/dichvuhoso.js') }}"></script>
<script src="{{ url_for('static', filename='js/dichvusinhvien/dichvuhoso.js') }}"></script>
{% endblock %}