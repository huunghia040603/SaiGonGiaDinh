{% extends 'base.html' %}

{% block content %}
<style>
    /* General Body Styles */
body {
    background-image:url(/static/images/nen1.jpg);
    width: 100%;

}


.container01 { /* Thêm 01 */
    background: #fff;
    padding: 30px 40px;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    max-width: 1200px;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 30px;
   margin-left: 80px;
}

.form-title01 { /* Thêm 01 */
    text-align: center;
    color: #0056b3;
    margin-bottom: 30px;
    font-size: 2.2em;
    border-bottom: 2px solid #e0e0e0;
    padding-bottom: 15px;
    font-family: font2;
}

/* Form Section Styling */
.form-section01 { /* Thêm 01 */
    background-color: #f9f9f9;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 25px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
}

.form-section01 h2 { /* Thêm 01 */
    color: #007bff;
    margin-top: 0;
    margin-bottom: 25px;
    font-size: 1.6em;
    border-bottom: 1px dashed #cce5ff;
    padding-bottom: 10px;
    font-family: font2;
}

/* Form Group (Label + Input) */
.form-group01 { /* Thêm 01 */
    margin-bottom: 20px;
}

.form-group01 label { /* Thêm 01 */
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
    color: #555;
    font-family: font2;
}

.form-group01 input[type="text"], /* Thêm 01 */
.form-group01 input[type="date"], /* Thêm 01 */
.form-group01 input[type="tel"], /* Thêm 01 */
.form-group01 input[type="email"], /* Thêm 01 */
.form-group01 select, /* Thêm 01 */
.form-group01 textarea { /* Thêm 01 */
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    box-sizing: border-box; /* Include padding in width */
    font-size: 1em;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.form-group01 input:focus, /* Thêm 01 */
.form-group01 select:focus, /* Thêm 01 */
.form-group01 textarea:focus { /* Thêm 01 */
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
    outline: none;
}

/* Inline Form Groups (e.g., Ngày sinh & Giới tính) */
.form-group-inline01 { /* Thêm 01 */
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
}

.form-group-inline01 > .form-group01 { /* Thêm 01 */
    flex: 1;
    margin-bottom: 0; /* Remove bottom margin here, handled by parent */
}

/* Radio Button Styling */
.radio-group01 { /* Thêm 01 */
    margin-bottom: 20px;
}

.radio-label01 { /* Thêm 01 */
    display: block;
    margin-bottom: 10px;
    cursor: pointer;
    font-size: 1.1em;
    color: #444;
}

.radio-label01 input[type="radio"] { /* Thêm 01 */
    margin-right: 10px;
    transform: scale(1.1); /* Slightly larger radio buttons */
}

.radio-label01 .sub-text01 { /* Thêm 01 */
    display: block;
    font-size: 0.9em;
    color: #777;
    margin-top: 5px;
    padding-left: 25px; /* Indent sub-text */
    font-family: font6;
}

.radio-label01.inline01 { /* Thêm 01 */
    display: inline-block;
    margin-right: 25px;
    margin-bottom: 0;
}

/* Required field indicator */
.required01 { /* Thêm 01 */
    color: #dc3545;
    margin-left: 4px;
}

/* Address Group Specific Styling */
.address-group01 select { /* Thêm 01 */
    margin-bottom: 15px; /* Spacing between selects */
}
.address-group01 input[type="text"] { /* Thêm 01 */
    margin-top: 5px;
}

/* File Upload Group */
.file-upload-group01 { /* Thêm 01 */
    margin-bottom: 20px;
    border: 1px dashed #aed6f1;
    padding: 15px;
    border-radius: 8px;
    background-color: #e8f5fd;
    position: relative;
    overflow: hidden; /* To hide default input visual */
}

.file-upload-group01 label { /* Thêm 01 */
    display: block;
    margin-bottom: 10px;
    font-weight: bold;
    color: #0056b3;
    cursor: pointer;
    font-family: font2;
}

.file-upload-group01 input[type="file"] { /* Thêm 01 */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
    z-index: 5;
    font-family: font6;
}

.file-upload-group01 .file-name01 { /* Thêm 01 */
    display: block;
    margin-top: 10px;
    font-size: 0.9em;
    color: #666;
    background-color: #d1ecf1;
    padding: 8px 12px;
    border-radius: 5px;
    border: 1px solid #bee5eb;
    font-family: font6;
}

/* Checkbox Group */
.checkbox-group01 { /* Thêm 01 */
    margin-top: 30px;
    text-align: center;
}

.checkbox-label01 { /* Thêm 01 */
    display: inline-flex; /* To align checkbox and text */
    align-items: flex-start;
    cursor: pointer;
    font-size: 1.1em;
    color: #444;
}

.checkbox-label01 input[type="checkbox"] { /* Thêm 01 */
    margin-right: 10px;
    transform: scale(1.2);
    margin-top: 3px; /* Align checkbox with text baseline */
}

/* Submit Button */
.submit-button01 { /* Thêm 01 */
    display: block;
    width: 100%;
    padding: 15px 25px;
    background-color: #28a745;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
    margin-top: 30px;
    font-family: font2;
}

.submit-button01:hover { /* Thêm 01 */
    background-color: #218838;
    transform: translateY(-2px);
}

.submit-button01:active { /* Thêm 01 */
    transform: translateY(0);
}

/* Hidden fields for Pho Thong 9+ */
.pho-thong-9-plus-fields01 { /* Thêm 01 */
    border-top: 1px dashed #ccc;
    padding-top: 20px;
    margin-top: 20px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .container01 { /* Thêm 01 */
        padding: 20px;
        margin-top: 20px;
        margin-bottom: 20px;
        margin-left: 0px;
    }
    .form-title01 { /* Thêm 01 */
        font-size: 1.8em;
    }
    .form-section01 { /* Thêm 01 */
        padding: 15px;
    }
    .form-section01 h2 { /* Thêm 01 */
        font-size: 1.4em;
    }
    .form-group-inline01 { /* Thêm 01 */
        flex-direction: column;
        gap: 0; /* Remove gap for column layout */
    }
    .radio-label01.inline01 { /* Thêm 01 */
        margin-right: 15px;
    }
    .submit-button01 { /* Thêm 01 */
        font-size: 1.1em;
        padding: 12px 20px;
    }
}

@media (max-width: 480px) {
    .container01 { /* Thêm 01 */
        padding: 15px;
        margin-left: 0px;
    }
    .form-title01 { /* Thêm 01 */
        font-size: 1.5em;
    }
    .form-section01 { /* Thêm 01 */
        padding: 10px;
    }
    .radio-label01 .sub-text01 { /* Thêm 01 */
        padding-left: 0; /* No indent on very small screens */
    }
}
</style>
<title>{% block title %} Đăng Ký Nhập Học - Trường Cao Đẳng SÀI GÒN GIA ĐỊNH{% endblock %}</title>
<body>
    <div class="container01"> <h1 class="form-title01">ĐĂNG KÝ NHẬP HỌC - NHẬN NGAY HỌC BỔNG</h1> <form id="registrationForm01" class="registration-form01"> <div class="form-section01"> <h2>CHƯƠNG TRÌNH ĐÀO TẠO</h2>
                <div class="radio-group01"> <label class="radio-label01"> <input type="radio" name="chuongTrinhDaoTao01" value="caodang" checked> Cao đẳng chính quy
                        <span class="sub-text01">(Áp dụng cho học sinh có trình độ đầu vào tốt nghiệp THPT)</span> </label>
                    <label class="radio-label01"> <input type="radio" name="chuongTrinhDaoTao01" value="phothong9plus"> Phổ thông Cao Đẳng 9+
                        <span class="sub-text01">(Áp dụng cho học sinh có trình độ đầu vào tốt nghiệp THCS)</span> </label>
                </div>
            </div>

            <div class="form-section01"> <h2>THÔNG TIN THÍ SINH</h2>
                <div class="form-group01"> <label for="hoTen01">Họ và tên <span class="required01">*</span></label> <input type="text" id="hoTen01" name="hoTen01" required> </div>

                <div class="form-group-inline01"> <div class="form-group01"> <label for="ngaySinh01">Ngày sinh <span class="required01">*</span></label> <input type="date" id="ngaySinh01" name="ngaySinh01" required> </div>
                    <div class="form-group01 gender-group01"> <label>Giới tính <span class="required01">*</span></label> <label class="radio-label01 inline01"> <input type="radio" name="gioiTinh01" value="nam" required> Nam </label>
                        <label class="radio-label01 inline01"> <input type="radio" name="gioiTinh01" value="nu"> Nữ </label>
                    </div>
                </div>

                <div class="form-group01"> <label for="danToc01">Dân tộc</label> <input type="text" id="danToc01" name="danToc01"> </div>

                <div class="form-group01"> <label for="cccd01">Số CCCD/Chứng minh nhân dân <span class="required01">*</span></label> <input type="text" id="cccd01" name="cccd01" required pattern="[0-9]{9,12}" title="Vui lòng nhập 9-12 chữ số"> </div>

                <div class="form-group-inline01"> <div class="form-group01"> <label for="ngayCapCCCD01">Ngày cấp <span class="required01">*</span></label> <input type="date" id="ngayCapCCCD01" name="ngayCapCCCD01" required> </div>
                    <div class="form-group01"> <label for="noiCapCCCD01">Nơi cấp <span class="required01">*</span></label> <input type="text" id="noiCapCCCD01" name="noiCapCCCD01" required> </div>
                </div>

                <div class="form-group01"> <label>Địa chỉ thường trú <span class="required01">*</span></label> <div class="address-group01"> <select id="tinhThanhPho01" name="tinhThanhPho01" required> <option value="">Chọn tỉnh/thành phố</option>
                            </select>
                        <select id="quanHuyen01" name="quanHuyen01" required disabled> <option value="">Chọn quận/huyện</option>
                        </select>
                        <select id="xaPhuong01" name="xaPhuong01" required disabled> <option value="">Chọn xã/phường/thị trấn</option>
                        </select>
                        <input type="text" id="soNhaDuong01" name="soNhaDuong01" placeholder="Số nhà, đường, ngõ, xóm" required> </div>
                </div>

                <div class="form-group01"> <label for="sdtThiSinh01">Số điện thoại thí sinh <span class="required01">*</span></label> <input type="tel" id="sdtThiSinh01" name="sdtThiSinh01" required pattern="[0-9]{10}" title="Vui lòng nhập 10 chữ số"> </div>

                <div class="form-group01"> <label for="emailThiSinh01">Email thí sinh <span class="required01">*</span></label> <input type="email" id="emailThiSinh01" name="emailThiSinh01" required> </div>

                <div class="form-group01"> <label for="hoTenPhuHuynh01">Họ tên phụ huynh <span class="required01">*</span></label> <input type="text" id="hoTenPhuHuynh01" name="hoTenPhuHuynh01" required> </div>

                <div class="form-group01"> <label for="sdtPhuHuynh01">Số điện thoại phụ huynh <span class="required01">*</span></label> <input type="tel" id="sdtPhuHuynh01" name="sdtPhuHuynh01" required pattern="[0-9]{10}" title="Vui lòng nhập 10 chữ số"> </div>
            </div>

            <div class="form-section01"> <h2>THÔNG TIN ĐĂNG KÝ NHẬP HỌC</h2>
                <div class="form-group01"> <label for="nganhHocDangKy01">Ngành học đăng ký <span class="required01">*</span></label> <select id="nganhHocDangKy01" name="nganhHocDangKy01" required> <option value="">Chọn ngành</option>
                    <option value="ktdn">Kế toán doanh nghiệp</option>
                    <option value="qtkd">Quản trị kinh doanh</option>
                    <option value="tcnh">Tài chính ngân hàng</option>
                    <option value="tmdt">Thương mại điện tử</option>
                    <option value="logistics">Logistics</option>
                    <option value="thuy">Thú y</option>
                    <option value="cntt">Công nghệ thông tin</option>
                    <option value="thietke">Thiết kế đồ họa</option>
                    <option value="cntt">Quản trị cơ sở dữ liệu</option>
                    <option value="cntt">Lập trình máy tính</option>
                    <option value="cnoto">Công nghệ ô tô</option>
                    <option value="cntp">Công nghệ thực phẩm</option>
                    <option value="duoc">Dược</option>
                    <option value="dd">Điều dưỡng</option>
                    <option value="ysdk">Y sĩ đa khoa</option>
                    <option value="ktphr">Kỹ thuật phục hình răng</option>
                    <option value="ktphcn">Kỹ thuật phục hồi chức năng</option>
                    <option value="yhct">Y học cổ truyền</option>
                    <option value="dl">Du lịch</option>
                    <option value="nna">Ngôn ngữ anh</option>
                    <option value="ldvpl">Luật dịch vụ pháp lý</option>
                        </select>
                </div>
                <div class="form-group01"> <label for="nguyenVong201">Nguyện vọng thứ hai</label> <select id="nguyenVong201" name="nguyenVong201"> <option value="">Chọn ngành (Không bắt buộc)</option>
                    <option value="ktdn">Kế toán doanh nghiệp</option>
                    <option value="qtkd">Quản trị kinh doanh</option>
                    <option value="tcnh">Tài chính ngân hàng</option>
                    <option value="tmdt">Thương mại điện tử</option>
                    <option value="logistics">Logistics</option>
                    <option value="thuy">Thú y</option>
                    <option value="cntt">Công nghệ thông tin</option>
                    <option value="thietke">Thiết kế đồ họa</option>
                    <option value="cntt">Quản trị cơ sở dữ liệu</option>
                    <option value="cntt">Lập trình máy tính</option>
                    <option value="cnoto">Công nghệ ô tô</option>
                    <option value="cntp">Công nghệ thực phẩm</option>
                    <option value="duoc">Dược</option>
                    <option value="dd">Điều dưỡng</option>
                    <option value="ysdk">Y sĩ đa khoa</option>
                    <option value="ktphr">Kỹ thuật phục hình răng</option>
                    <option value="ktphcn">Kỹ thuật phục hồi chức năng</option>
                    <option value="yhct">Y học cổ truyền</option>
                    <option value="dl">Du lịch</option>
                    <option value="nna">Ngôn ngữ anh</option>
                    <option value="ldvpl">Luật dịch vụ pháp lý</option>
                        </select>
                </div>

                <div id="phoThong9PlusFields01" class="pho-thong-9-plus-fields01"> <div class="form-group01"> <label for="namTotNghiepTHCS01">Năm tốt nghiệp THCS hoặc tương đương <span class="required01">*</span></label> <select id="namTotNghiepTHCS01" name="namTotNghiepTHCS01"> <option value="">Chọn năm</option>
                            <script>
                                const currentYear = new Date().getFullYear();
                                for (let i = currentYear; i >= currentYear - 12; i--) {
                                    document.write(`<option value="${i}">${i}</option>`);
                                }
                            </script>
                        </select>
                    </div>
                    <div class="form-group01"> <label for="truongTHCS01">Trường tốt nghiệp THCS hoặc tương đương <span class="required01">*</span></label> <input type="text" id="truongTHCS01" name="truongTHCS01"> </div>
                    <div class="form-group01"> <label>Nơi tốt nghiệp <span class="required01">*</span></label> <div class="address-group01"> <select id="tinhThanhPhoTHCS01" name="tinhThanhPhoTHCS01"> <option value="">Chọn tỉnh/thành phố</option>
                                </select>
                            <select id="quanHuyenTHCS01" name="quanHuyenTHCS01" disabled> <option value="">Chọn quận/huyện</option>
                            </select>
                            <select id="xaPhuongTHCS01" name="xaPhuongTHCS01" disabled> <option value="">Chọn xã/phường/thị trấn</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-section01"> <h2>THÔNG TIN GỬI KẾT QUẢ XÉT TUYỂN</h2>
                <div class="radio-group01"> <label class="radio-label01 inline01"> <input type="radio" name="nguoiNhanKetQua01" value="thiSinh" checked> Thí sinh </label>
                    <label class="radio-label01 inline01"> <input type="radio" name="nguoiNhanKetQua01" value="phuHuynh"> Phụ huynh </label>
                </div>

                <div class="radio-group01 address-type-group01"> <label class="radio-label01 inline01"> <input type="radio" name="diaChiNhan01" value="hoKhau" checked> Địa chỉ hộ khẩu thường trú </label>
                    <label class="radio-label01 inline01"> <input type="radio" name="diaChiNhan01" value="khac"> Khác </label>
                </div>
                <div class="form-group01" id="diaChiKhacGroup01" style="display: none;"> <label for="diaChiNhanKhac01">Địa chỉ nhận khác <span class="required01">*</span></label> <textarea id="diaChiNhanKhac01" name="diaChiNhanKhac01" rows="3"></textarea> </div>
            </div>

            <div class="form-section01"> <h2>TẢI HỒ SƠ ĐĂNG KÝ NHẬP HỌC</h2>
                <div class="file-upload-group01"> <label for="anhCCCDTruoc01">Ảnh CMT/CCCD mặt trước <span class="required01">*</span></label> <input type="file" id="anhCCCDTruoc01" name="anhCCCDTruoc01" accept="image/*" required> <span class="file-name01" id="fileAnhCCCDTruoc01">Chưa có file nào được chọn</span> </div>
                <div class="file-upload-group01"> <label for="anhCCCDSau01">Ảnh CMT/CCCD mặt sau <span class="required01">*</span></label> <input type="file" id="anhCCCDSau01" name="anhCCCDSau01" accept="image/*" required> <span class="file-name01" id="fileAnhCCCDSau01">Chưa có file nào được chọn</span> </div>
                <div class="file-upload-group01"> <label for="bangTotNghiepTHPT01">Bản sao công chứng Bằng tốt nghiệp THPT</label> <input type="file" id="bangTotNghiepTHPT01" name="bangTotNghiepTHPT01" accept=".pdf,image/*"> <span class="sub-text01">(Hoặc giấy chứng nhận tốt nghiệp tạm thời - không bắt buộc)</span> <span class="file-name01" id="fileBangTotNghiepTHPT01">Chưa có file nào được chọn</span> </div>
            </div>

            <div class="form-group01 checkbox-group01"> <label class="checkbox-label01"> <input type="checkbox" id="camDoan01" name="camDoan01" required> Tôi xin cam đoan những lời khai của tôi trên phiếu đăng ký này là đúng sự thật. <span class="required01">*</span> </label>
            </div>

            <button type="submit" class="submit-button01">Gửi Phiếu Đăng Ký</button> </form>
    </div>

    <script > document.addEventListener('DOMContentLoaded', () => {
        // --- Khai báo các phần tử DOM (đã thêm 01 vào cuối ID và tên) ---
        const registrationForm01 = document.getElementById('registrationForm01');
        const chuongTrinhDaoTao01Radios = document.querySelectorAll('input[name="chuongTrinhDaoTao01"]');
        const phoThong9PlusFields01 = document.getElementById('phoThong9PlusFields01');
    
        const tinhThanhPho01Select = document.getElementById('tinhThanhPho01');
        const quanHuyen01Select = document.getElementById('quanHuyen01');
        const xaPhuong01Select = document.getElementById('xaPhuong01');
        const soNhaDuong01Input = document.getElementById('soNhaDuong01');
    
        const tinhThanhPhoTHCS01Select = document.getElementById('tinhThanhPhoTHCS01');
        const quanHuyenTHCS01Select = document.getElementById('quanHuyenTHCS01');
        const xaPhuongTHCS01Select = document.getElementById('xaPhuongTHCS01');
        const truongTHCS01Input = document.getElementById('truongTHCS01');
        const namTotNghiepTHCS01Select = document.getElementById('namTotNghiepTHCS01');
    
        const diaChiNhan01Radios = document.querySelectorAll('input[name="diaChiNhan01"]');
        const diaChiKhacGroup01 = document.getElementById('diaChiKhacGroup01');
        const diaChiNhanKhac01Textarea = document.getElementById('diaChiNhanKhac01');
    
        const fileInputs01 = document.querySelectorAll('input[type="file"]');
    
        // --- Dữ liệu tĩnh cho địa chỉ (ví dụ, thực tế sẽ lấy từ API) ---
        const addressData01 = { // Đổi tên biến
            "Thành phố Hà Nội": {
                "Quận Ba Đình": ["Phường Phúc Xá", "Phường Trúc Bạch", "Phường Vĩnh Phúc"],
                "Quận Cầu Giấy": ["Phường Nghĩa Đô", "Phường Quan Hoa", "Phường Dịch Vọng"],
                "Huyện Từ Liêm": ["Xã Đông Ngạc", "Xã Tây Tựu"]
            },
            "Thành phố Hồ Chí Minh": {
                "Quận 1": ["Phường Bến Nghé", "Phường Bến Thành", "Phường Đa Kao"],
                "Quận Bình Thạnh": ["Phường 1", "Phường 2", "Phường 3"],
                "Thành phố Thủ Đức": ["Phường An Khánh", "Phường Bình Thọ"]
            },
            "Tỉnh Đồng Nai": {
                "Thành phố Biên Hòa": ["Phường Quyết Thắng", "Phường Hoà Bình"],
                "Huyện Long Thành": ["Thị trấn Long Thành", "Xã An Phước"]
            },
            // Thêm các tỉnh/thành phố và quận/huyện/xã/phường khác theo cấu trúc này
        };
    
        const tinhThanhPhoList01 = [ // Đổi tên biến
            "Thành phố Hà Nội", "Thành phố Hồ Chí Minh", "Tỉnh Đồng Nai",
            "Tỉnh Cà Mau", "Tỉnh Bạc Liêu", "Tỉnh Sóc Trăng", "Tỉnh Hậu Giang",
            "Thành phố Cần Thơ", "Tỉnh Kiên Giang", "Tỉnh An Giang", "Tỉnh Đồng Tháp",
            "Tỉnh Vĩnh Long", "Tỉnh Trà Vinh", "Tỉnh Bến Tre", "Tỉnh Tiền Giang",
            "Tỉnh Long An", "Tỉnh Bà Rịa - Vũng Tàu", "Tỉnh Bình Dương", "Tỉnh Tây Ninh",
            "Tỉnh Bình Phước", "Tỉnh Lâm Đồng", "Tỉnh Đắk Nông", "Tỉnh Đắk Lắk",
            "Tỉnh Gia Lai", "Tỉnh Kon Tum", "Tỉnh Bình Thuận", "Tỉnh Ninh Thuận",
            "Tỉnh Khánh Hòa", "Tỉnh Phú Yên", "Tỉnh Bình Định", "Tỉnh Quảng Ngãi",
            "Tỉnh Quảng Nam", "Thành phố Đà Nẵng", "Tỉnh Thừa Thiên Huế", "Tỉnh Quảng Trị",
            "Tỉnh Quảng Bình", "Tỉnh Hà Tĩnh", "Tỉnh Nghệ An", "Tỉnh Thanh Hóa",
            "Tỉnh Ninh Bình", "Tỉnh Nam Định", "Tỉnh Hà Nam", "Tỉnh Thái Bình",
            "Tỉnh Hưng Yên", "Thành phố Hải Phòng", "Tỉnh Hải Dương", "Tỉnh Bắc Ninh",
            "Tỉnh Vĩnh Phúc", "Tỉnh Phú Thọ", "Tỉnh Bắc Giang", "Tỉnh Quảng Ninh",
            "Tỉnh Lạng Sơn", "Tỉnh Thái Nguyên", "Tỉnh Hoà Bình", "Tỉnh Yên Bái",
            "Tỉnh Sơn La", "Tỉnh Lai Châu", "Tỉnh Điện Biên", "Tỉnh Lào Cai",
            "Tỉnh Tuyên Quang", "Tỉnh Bắc Kạn", "Tỉnh Cao Bằng", "Tỉnh Hà Giang"
        ];
    
        // --- Functions ---
    
        // Hàm load options cho select box
        const loadOptions01 = (selectElement, dataArray, defaultText) => { // Đổi tên hàm
            selectElement.innerHTML = `<option value="">${defaultText}</option>`;
            dataArray.forEach(item => {
                const option = document.createElement('option');
                option.value = item;
                option.textContent = item;
                selectElement.appendChild(option);
            });
            selectElement.disabled = false; // Kích hoạt select sau khi load data
        };
    
        // Hàm reset các select con (quận/huyện, xã/phường)
        const resetChildSelects01 = (quanHuyenEl, xaPhuongEl) => { // Đổi tên hàm
            quanHuyenEl.innerHTML = '<option value="">Chọn quận/huyện</option>';
            quanHuyenEl.disabled = true;
            xaPhuongEl.innerHTML = '<option value="">Chọn xã/phường/thị trấn</option>';
            xaPhuongEl.disabled = true;
        };
    
        // Hàm xử lý thay đổi Tỉnh/Thành phố
        const handleProvinceChange01 = (provinceSelect, districtSelect, wardSelect) => { // Đổi tên hàm
            const selectedProvince = provinceSelect.value;
            resetChildSelects01(districtSelect, wardSelect); // Gọi hàm đã đổi tên
    
            if (selectedProvince && addressData01[selectedProvince]) { // Sử dụng addressData01
                const districts = Object.keys(addressData01[selectedProvince]);
                loadOptions01(districtSelect, districts, 'Chọn quận/huyện'); // Gọi hàm đã đổi tên
                districtSelect.disabled = false;
            } else {
                districtSelect.disabled = true;
                wardSelect.disabled = true;
            }
        };
    
        // Hàm xử lý thay đổi Quận/Huyện
        const handleDistrictChange01 = (provinceSelect, districtSelect, wardSelect) => { // Đổi tên hàm
            const selectedProvince = provinceSelect.value;
            const selectedDistrict = districtSelect.value;
            wardSelect.innerHTML = '<option value="">Chọn xã/phường/thị trấn</option>';
            wardSelect.disabled = true;
    
            if (selectedProvince && selectedDistrict && addressData01[selectedProvince] && addressData01[selectedProvince][selectedDistrict]) { // Sử dụng addressData01
                const wards = addressData01[selectedProvince][selectedDistrict];
                loadOptions01(wardSelect, wards, 'Chọn xã/phường/thị trấn'); // Gọi hàm đã đổi tên
                wardSelect.disabled = false;
            } else {
                wardSelect.disabled = true;
            }
        };
    
        // Hàm ẩn/hiện trường "Phổ thông Cao đẳng 9+"
        const togglePhoThong9PlusFields01 = () => { // Đổi tên hàm
            const selectedProgram = document.querySelector('input[name="chuongTrinhDaoTao01"]:checked').value; // Đổi tên name
            const isPhoThong9Plus = selectedProgram === 'phothong9plus';
    
            phoThong9PlusFields01.style.display = isPhoThong9Plus ? 'block' : 'none'; // Đổi tên biến
    
            // Đặt thuộc tính 'required' cho các trường trong phần này
            const requiredElements = phoThong9PlusFields01.querySelectorAll('input, select'); // Đổi tên biến
            requiredElements.forEach(el => {
                if (isPhoThong9Plus) {
                    el.setAttribute('required', 'required');
                } else {
                    el.removeAttribute('required');
                }
            });
            
            // Disable/enable selects cho địa chỉ THCS
            if (!isPhoThong9Plus) {
                quanHuyenTHCS01Select.disabled = true; // Đổi tên biến
                xaPhuongTHCS01Select.disabled = true; // Đổi tên biến
                // Clear values when hidden
                namTotNghiepTHCS01Select.value = ''; // Đổi tên biến
                truongTHCS01Input.value = ''; // Đổi tên biến
                tinhThanhPhoTHCS01Select.value = ''; // Đổi tên biến
                resetChildSelects01(quanHuyenTHCS01Select, xaPhuongTHCS01Select); // Gọi hàm đã đổi tên
            } else {
                // Re-enable if data loaded
                if (tinhThanhPhoTHCS01Select.value) { // Đổi tên biến
                    handleProvinceChange01(tinhThanhPhoTHCS01Select, quanHuyenTHCS01Select, xaPhuongTHCS01Select); // Gọi hàm đã đổi tên
                }
            }
        };
    
        // Hàm xử lý hiển thị tên file được chọn
        const handleFileSelect01 = (event) => { // Đổi tên hàm
            const input = event.target;
            const fileNameSpanId = 'file' + input.id.charAt(0).toUpperCase() + input.id.slice(1);
            const fileNameSpan = document.getElementById(fileNameSpanId);
            if (input.files.length > 0) {
                fileNameSpan.textContent = input.files[0].name;
            } else {
                fileNameSpan.textContent = 'Chưa có file nào được chọn';
            }
        };
    
        // --- Khởi tạo ban đầu ---
        loadOptions01(tinhThanhPho01Select, tinhThanhPhoList01, 'Chọn tỉnh/thành phố'); // Gọi hàm đã đổi tên và biến
        loadOptions01(tinhThanhPhoTHCS01Select, tinhThanhPhoList01, 'Chọn tỉnh/thành phố'); // Gọi hàm đã đổi tên và biến
        togglePhoThong9PlusFields01(); // Gọi hàm đã đổi tên
    
        // --- Event Listeners ---
    
        // Lắng nghe sự kiện thay đổi chương trình đào tạo
        chuongTrinhDaoTao01Radios.forEach(radio => { // Đổi tên biến
            radio.addEventListener('change', togglePhoThong9PlusFields01); // Gọi hàm đã đổi tên
        });
    
        // Lắng nghe sự kiện thay đổi Tỉnh/Thành phố (Địa chỉ thường trú)
        tinhThanhPho01Select.addEventListener('change', () => handleProvinceChange01(tinhThanhPho01Select, quanHuyen01Select, xaPhuong01Select)); // Đổi tên biến và hàm
        quanHuyen01Select.addEventListener('change', () => handleDistrictChange01(tinhThanhPho01Select, quanHuyen01Select, xaPhuong01Select)); // Đổi tên biến và hàm
    
        // Lắng nghe sự kiện thay đổi Tỉnh/Thành phố (Nơi tốt nghiệp THCS)
        tinhThanhPhoTHCS01Select.addEventListener('change', () => handleProvinceChange01(tinhThanhPhoTHCS01Select, quanHuyenTHCS01Select, xaPhuongTHCS01Select)); // Đổi tên biến và hàm
        quanHuyenTHCS01Select.addEventListener('change', () => handleDistrictChange01(tinhThanhPhoTHCS01Select, quanHuyenTHCS01Select, xaPhuongTHCS01Select)); // Đổi tên biến và hàm
    
        // Lắng nghe sự kiện thay đổi radio "Địa chỉ nhận"
        diaChiNhan01Radios.forEach(radio => { // Đổi tên biến
            radio.addEventListener('change', () => {
                if (document.querySelector('input[name="diaChiNhan01"]:checked').value === 'khac') { // Đổi tên name
                    diaChiKhacGroup01.style.display = 'block'; // Đổi tên biến
                    diaChiNhanKhac01Textarea.setAttribute('required', 'required'); // Đổi tên biến
                } else {
                    diaChiKhacGroup01.style.display = 'none'; // Đổi tên biến
                    diaChiNhanKhac01Textarea.removeAttribute('required'); // Đổi tên biến
                    diaChiNhanKhac01Textarea.value = ''; // Đổi tên biến
                }
            });
        });
    
        // Lắng nghe sự kiện thay đổi file input để hiển thị tên file
        fileInputs01.forEach(input => { // Đổi tên biến
            input.addEventListener('change', handleFileSelect01); // Gọi hàm đã đổi tên
        });
    
        // Xử lý gửi form
        registrationForm01.addEventListener('submit', (event) => { // Đổi tên biến
            event.preventDefault(); // Ngăn chặn form gửi đi mặc định
    
            // Kiểm tra các trường required (HTML5 validation đã xử lý phần lớn, đây là fallback)
            let isValid = true;
            const requiredInputs = registrationForm01.querySelectorAll('[required]'); // Đổi tên biến
            requiredInputs.forEach(input => {
                if (!input.checkValidity()) {
                    isValid = false;
                    // Có thể thêm hiệu ứng visual cho trường bị lỗi
                    input.style.borderColor = 'red';
                } else {
                    input.style.borderColor = ''; // Reset border
                }
            });
    
            // Kiểm tra checkbox cam kết
            const camDoan01Checkbox = document.getElementById('camDoan01'); // Đổi tên ID
            if (!camDoan01Checkbox.checked) {
                isValid = false;
                alert('Bạn phải cam đoan những lời khai là đúng sự thật.');
                camDoan01Checkbox.focus();
            }
    
            if (isValid) {
                // Thu thập dữ liệu form (ví dụ)
                const formData = new FormData(registrationForm01); // Đổi tên biến
                const data = {};
                for (let [key, value] of formData.entries()) {
                    // Xử lý các trường file riêng
                    if (value instanceof File) {
                        if (value.name) {
                            data[key] = {
                                name: value.name,
                                size: value.size,
                                type: value.type
                            };
                        } else {
                            data[key] = null; // Không có file được chọn
                        }
                    } else {
                        data[key] = value;
                    }
                }
    
                console.log('Dữ liệu form:', data);
                alert('Đăng ký thành công! Dữ liệu đã được gửi (xem console để biết chi tiết).');
    
                // Trong ứng dụng thực tế, bạn sẽ gửi dữ liệu này đến máy chủ
                // fetch('/api/register', {
                //     method: 'POST',
                //     body: JSON.stringify(data),
                //     headers: {
                //         'Content-Type': 'application/json'
                //     }
                // })
                // .then(response => response.json())
                // .then(result => {
                //     if (result.success) {
                //         alert('Đăng ký thành công!');
                //         registrationForm01.reset(); // Reset form sau khi gửi thành công
                //     } else {
                //         alert('Đăng ký thất bại: ' + result.message);
                //     }
                // })
                // .catch(error => {
                //     console.error('Lỗi khi gửi form:', error);
                //     alert('Có lỗi xảy ra, vui lòng thử lại sau.');
                // });
            } else {
                alert('Vui lòng điền đầy đủ và chính xác các thông tin bắt buộc.');
            }
        });
    });</script>
{% endblock %}