{% extends 'base.html' %}

{% block title %}Trang Chủ - Website Trường Cao Đẳng Sài Gòn Gia Định{% endblock %}

{% block content %}
<style>
    /* Phần chứa cả hai bộ đếm - Ghim vào góc màn hình */
    body {
    -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
    -khtml-user-select: none; /* Konqueror HTML */
    -moz-user-select: none; /* Old versions of Firefox */
    -ms-user-select: none; /* Internet Explorer/Edge */
    user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
}

/* Tùy chọn: Chặn kéo ảnh */
    img {
        -webkit-user-drag: none; /* Chrome, Safari */
        -khtml-user-drag: none; /* Konqueror HTML */
        -moz-user-drag: none; /* Firefox */
        
    }
    .counters-container {
        position: fixed; /* Ghim vào vị trí cố định trên màn hình */
        bottom: 20px;    /* Cách đáy 20px */
        right: 20px;     /* Cách lề phải 20px */
        display: flex;   /* Sắp xếp các mục con */
        flex-direction: column; /* Xếp chồng các bộ đếm lên nhau (tạo 2 dòng tổng) */
        gap: 8px;        /* Khoảng cách nhỏ giữa các bộ đếm */
        padding: 10px;   /* Khoảng đệm tổng thể */
        background-color: rgba(255, 255, 255, 0.95); /* Nền trắng hơi trong suốt, rõ hơn */
        border-radius: 8px; /* Góc bo tròn */
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Đổ bóng rõ hơn */
        z-index: 1000;   /* Đảm bảo nó luôn nằm trên cùng */
        /*max-width: 180px; */ /* Bỏ max-width để nó tự co giãn theo nội dung đủ chỗ 2 dòng */
        border: 1px solid #e0e0e0; /* Viền mỏng */
    }

    /* Mỗi phần bộ đếm riêng lẻ */
    .counter-section {
        background-color: #ffffff; /* Nền trắng */
        border-radius: 6px; /* Góc bo tròn nhỏ hơn */
        padding: 6px 12px; /* Giảm khoảng đệm cho nhỏ gọn hơn */
        transition: transform 0.2s ease-in-out; /* Hiệu ứng khi di chuột */
        line-height: 1.2; /* Tối ưu khoảng cách dòng */

        /* <-- ĐÃ SỬA ĐỔI: Dùng Flexbox để đưa tiêu đề và số lên cùng một dòng */
        display: flex;
        /* justify-content: space-between;  */
        /* Đẩy tiêu đề và số về hai phía */
        align-items: center; /* Căn giữa theo chiều dọc */
        white-space: nowrap; /* Ngăn không cho nội dung bên trong xuống dòng */
    }

    .counter-section:hover {
        transform: translateY(-3px); /* Nâng nhẹ lên khi di chuột vào */
    }

    /* Tiêu đề của bộ đếm (Ví dụ: "Truy cập hôm nay:") */
    .counter-section p {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-size: 0.9em; /* Kích thước chữ vừa phải */
        color: #666; /* Màu chữ xám đậm hơn */
        margin: 0; /* <-- ĐÃ SỬA ĐỔI: Bỏ tất cả margin mặc định */
        padding-right: 8px; /* Khoảng cách giữa chữ và số */
        font-weight: 500;
    }

    /* Giá trị của bộ đếm tổng lượt truy cập và online */
    .counter-value, .online-value {
        font-family: 'Orbitron', sans-serif;
        font-size: 1.6em; /* Kích thước số */
        font-weight: bold;
        letter-spacing: 0.5px;
        margin: 0; /* <-- ĐÃ SỬA ĐỔI: Bỏ tất cả margin mặc định */
    }

    /* Màu sắc cụ thể cho từng loại */
    .counter-value {
        color: #007bff; /* Màu xanh dương */
    }

    .online-value {
        color: #28a745; /* Màu xanh lá cây */
    }

    /* Responsive adjustments - Thích ứng trên màn hình nhỏ hơn */
    @media (max-width: 600px) {
        .counters-container {
            bottom: 10px; /* Cách đáy 10px trên di động */
            right: 10px;  /* Cách lề phải 10px trên di động */
            padding: 6px; /* Giảm padding tổng thể */
            gap: 5px;     /* Giảm khoảng cách giữa các mục */
        }
        .counter-section {
            padding: 5px 10px; /* Giảm padding từng mục */
        }
        .counter-section p {
            font-size: 0.85em; /* Chữ nhỏ hơn một chút */
        }
        .counter-value, .online-value {
            font-size: 1.4em; /* Số nhỏ hơn một chút */
        }
    }
    .major-content h3{
        font-size: 30px !important;
      

    }
    .major-content p{
        font-size: 17px !important;
      

    }
</style>

<div class="banner-slider">
    <div class="slides" id="banner-slides">
        </div>

    <button class="slider-btn prev-btn">
        <i class="fas fa-chevron-left"></i>
    </button>
    <button class="slider-btn next-btn">
        <i class="fas fa-chevron-right"></i>
    </button>

    <div class="slider-dots" id="slider-dots">
        </div>
</div>


{% include 'gioithieu.html' %}




<!-- Detailed Majors Section -->
<section class="detailed-majors">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">NGÀNH ĐÀO TẠO</h2>
            <p class="section-subtitle">Khám phá các chuyên ngành đào tạo tại Cao đẳng Sài Gòn Gia Định</p>
        </div>

        <div class="majors-grid">
            <!-- Kinh tế -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">
                        <img src="{{ url_for('static', filename='/images/nganhmoi/ketoan.jpg') }}" alt="Kế toán">
                        <div class="major-content">
                            <h3>Kế toán doanh nghiệp</h3>
                            <p>Đào tạo chuyên sâu về kế toán, kiểm toán và tài chính doanh nghiệp</p>
                        </div>
                    </div>
               
                </div>
            </div>

            <!-- Quản trị kinh doanh -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/quantri.jpg') }}"


                            alt="Quản trị kinh doanh">
                        <div class="major-content">
                            <h3>Quản trị kinh doanh</h3>
                            <p>Phát triển kỹ năng quản lý và điều hành doanh nghiệp hiệu quả</p>
                        </div>
                    </div>
                 
                </div>
            </div>

            <!-- Tài chính ngân hàng -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/nganhang.jpg') }}"
                            alt="Tài chính ngân hàng">

                        <div class="major-content">
                            <h3>Tài chính - Ngân hàng</h3>
                            <p>Đào tạo chuyên gia trong lĩnh vực tài chính và ngân hàng</p>
                        </div>
                    </div>
               
                </div>
            </div>

            <!-- Thương mại điện tử -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/thuongmaidientu.jpg') }}" alt="Thương mại điện tử">

                        <div class="major-content">
                            <h3>Thương mại điện tử</h3>
                            <p>Đào tạo chuyên gia trong lĩnh vực kinh doanh trực tuyến</p>
                        </div>
                    </div>
               
                </div>
            </div>

            <!-- Logistics -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/logistics.jpg') }}" alt="Logistics">

                        <div class="major-content">
                            <h3>Logistics</h3>
                            <p>Đào tạo chuyên gia trong lĩnh vực quản lý chuỗi cung ứng và logistics</p>
                        </div>
                    </div>
            
                </div>
            </div>

            <!-- Thú y -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/thuy.jpg') }}" alt="Thú y">

                        <div class="major-content">
                            <h3>Thú y</h3>
                            <p><text class="text-do" style="color: #ee232b;">An tâm học phí cùng nghị định 81</text><br/>Đào tạo bác sĩ thú y chuyên nghiệp với kiến thức và kỹ năng toàn diện</p>
                        </div>
                    </div>
                 
                </div>
            </div>

            <!-- Công nghệ thông tin -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/cntt.jpg') }}" alt="Công nghệ thông tin">

                        <div class="major-content">
                            <h3>Công nghệ thông tin</h3>
                            <p>Đào tạo kỹ sư CNTT với chương trình cập nhật theo xu hướng công nghệ mới nhất</p>
                        </div>
                    </div>
                  
                </div>
            </div>

            <!-- Công nghệ ô tô -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/oto.jpg') }}" alt="Công nghệ ô tô">

                        <div class="major-content">
                            <h3>Công nghệ ô tô</h3>
                            <p><text class="text-do" style="color: #ee232b;">An tâm học phí cùng nghị định 81</text><br/>Đào tạo kỹ thuật viên chuyên nghiệp trong lĩnh vực công nghệ ô tô</p>
                        </div>
                    </div>
               
                </div>
            </div>

            <!-- Công nghệ thực phẩm -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/thucpham.jpg') }}"
                            alt="Công nghệ thực phẩm">

                        <div class="major-content">
                            <h3>Công nghệ thực phẩm</h3>
                            <p>Đào tạo chuyên gia trong lĩnh vực chế biến và bảo quản thực phẩm</p>
                        </div>
                    </div>
              
                </div>
            </div>

            <!-- Dược -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/duoc.jpg') }}" alt="Dược">

                        <div class="major-content">
                            <h3>Dược</h3>
                                <p><text class="text-do" style="color: #ee232b;">An tâm học phí cùng nghị định 81</text><br/> Đào tạo dược sĩ chuyên nghiệp với kiến thức chuyên môn cao</p>
                        </div>
                    </div>
                
                </div>
            </div>

            <!-- Điều dưỡng -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/dieuduong.jpg') }}" alt="Điều dưỡng">

                        <div class="major-content">
                            <h3>Điều dưỡng</h3>
                            <p><text class="text-do" style="color: #ee232b;">An tâm học phí cùng nghị định 81</text><br/>Đào tạo điều dưỡng viên chuyên nghiệp với tâm huyết chăm sóc sức khỏe cộng đồng</p>
                        </div>
                    </div>
               
                </div>
            </div>

            <!-- Y sĩ đa khoa -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/ysidakhoa.jpg') }}" alt="Y sĩ đa khoa">

                        <div class="major-content">
                            <h3>Y sĩ đa khoa</h3>
                            <p><text class="text-do" style="color: #ee232b;">An tâm học phí cùng nghị định 81</text><br/>Đào tạo y sĩ với kiến thức tổng quát về y học và kỹ năng khám chữa bệnh</p>
                        </div>
                    </div>
              
                </div>
            </div>

            <!-- Kỹ thuật phục hình răng -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">

                        <img src="{{ url_for('static', filename='images/nganhmoi/phuchinhrang.jpg') }}"
                            alt="Kỹ thuật phục hình răng">

                        <div class="major-content">
                            <h3>Kỹ thuật phục hình răng</h3>
                            <p>Đào tạo chuyên viên kỹ thuật trong lĩnh vực nha khoa</p>
                        </div>
                    </div>
            
                </div>
            </div>

            <!-- Kỹ thuật phục hồi chức năng -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">
                        <img src="{{ url_for('static', filename='images/nganhmoi/phuchoichucnang.jpg') }}"alt="Kỹ thuật phục hồi chức năng">
                        <div class="major-content">
                            <h3>Kỹ thuật phục hồi chức năng</h3>
                            <p>Đào tạo chuyên viên vật lý trị liệu và phục hồi chức năng</p>
                        </div>
                    </div>
                  
                </div>
            </div>

            <!-- Y học cổ truyền -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">
                        <img src="{{ url_for('static', filename='images/nganhmoi/yhoccotruyen.jpg') }}" alt="Y học cổ truyền">
                        <div class="major-content">
                            <h3>Y học cổ truyền</h3>
                            <p>Đào tạo y sĩ y học cổ truyền kết hợp với y học hiện đại</p>
                        </div>
                    </div>
                   
                </div>
            </div>

            <!-- Du lịch -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">
                        <img src="{{ url_for('static', filename='images/nganhmoi/dulich.jpg') }}" alt="Du lịch">
                        <div class="major-content">
                            <h3>Du lịch</h3>
                            <p><text class="text-do" style="color: #ee232b;">An tâm học phí cùng nghị định 81</text><br/>Đào tạo chuyên viên trong lĩnh vực du lịch và lữ hành</p>
                        </div>
                    </div>
              
                </div>
            </div>

            <!-- Ngôn ngữ Anh -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">
                        <img src="{{ url_for('static', filename='images/nganhmoi/ngonguanh.jpg') }}" alt="Ngôn ngữ Anh">
                        <div class="major-content">
                            <h3>Ngôn ngữ Anh</h3>
                            <p>Đào tạo chuyên gia ngôn ngữ Anh với kỹ năng giao tiếp quốc tế</p>
                        </div>
                    </div>
             
                </div>
            </div>

            <!-- Luật - Dịch vụ pháp lý -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">
                        <img src="{{ url_for('static', filename='images/nganhmoi/luat.jpg') }}" alt="Luật">
                        <div class="major-content">
                            <h3>Luật - Dịch vụ pháp lý</h3>
                            <p>Đào tạo chuyên viên pháp lý với kiến thức luật thực tiễn</p>
                        </div>
                    </div>
               
                </div>
            </div>

            <!-- Sư phạm mầm non -->
           

            <!-- Văn hóa THPT 9+ -->
            <div class="major-card">
                <div class="major-card-inner">
                    <div class="major-front">
                        <img src="{{ url_for('static', filename='images/gioithieu/SHDK4.jpg') }}" alt="Văn hóa THPT 9+">
                        <div class="major-content">
                            <h3>Văn hóa THPT 9+</h3>
                            <p>Chương trình đào tạo văn hóa kết hợp với hướng nghiệp</p>
                        </div>
                    </div>
                    <div class="major-back">
                        <div class="major-details">
                            <h4>Chương trình học</h4>
                            <ul>
                                <li>Văn hóa THPT</li>
                                <li>Kỹ năng mềm</li>
                                <li>Định hướng nghề nghiệp</li>
                                <li>Ngoại ngữ và tin học</li>
                            </ul>
                            <a href="/thpt9" class="major-link">Xem chi tiết <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>






{% include 'dangkytuvan.html' %}




{% include 'tamnhin.html' %}

<!-- Services Section -->
<section class="services-section">
    <div class="services-container">
        <div class="services-header">
            <h1 class="services-title">
                <span>NGÀNH XÉT TUYỂN
                </span>
                <span style="font-size: 30px;">Cao Đẳng Sài Gòn Gia Định</span>
            </h1>
            <div class="services-intro">
                <p style="font-family: font6;">Hãy đăng ký ngay hôm nay để nhận được những ưu đãi đặc biệt và trở thành
                    sinh viên của Cao Đẳng Sài Gòn Gia Định!</p>
                <a href="#form-dangky" class="consultation-btn" style="font-family: font2;">Đăng Ký Ngay</a>
            </div>
        </div>

        <div class="services-grid">
            <!-- Row 1 -->
            <!-- General Construction -->
            <div class="service-card orange">
                <div class="service-icon">
                    <i class="fa-solid fa-money-check-dollar" style="font-size: 40px;"></i>
                </div>
                <h3>KINH TẾ - TÀI CHÍNH</h3>
                <p style="font-family: font6;">Tại Cao đẳng Sài Gòn Gia Định là lựa chọn lý tưởng cho những bạn trẻ có
                    niềm đam mê với lĩnh vực kinh tế, mong muốn có một sự nghiệp vững chắc trong tương lai.</p>
            </div>

            <!-- Renovation Remodeling -->
            <div class="service-card">
                <div class="service-icon">
                    <i class="fa-solid fa-shield-dog" style="font-size: 40px;"></i>
                </div>
                <h3>THÚ Y - CHĂN NUÔI</h3>
                <p style="font-family: font6;">Tại Cao đẳng Sài Gòn Gia Định là lựa chọn hấp dẫn cho những bạn trẻ có
                    niềm đam mê với động vật và mong muốn đóng góp vào sự phát triển của ngành nông nghiệp nước nhà.</p>
            </div>

            <!-- Architectural Design -->
            <div class="service-card">
                <div class="service-icon">
                    <i class="fa-solid fa-microchip" style="font-size: 40px;"></i>
                </div>
                <h3>CÔNG NGHỆ - KỸ THUẬT</h3>
                <p style="font-family: font6;">Với phương châm đào tạo "thực học - thực hành" và mạng lưới đối tác doanh
                    nghiệp vững chắc, Cao đẳng Sài Gòn Gia Định là lựa chọn lý tưởng cho những bạn trẻ yêu thích công
                    nghệ và mong muốn có một tương lai nghề nghiệp ổn định, phát triển.</p>
            </div>

            <!-- Row 2 -->
            <!-- Planning Development -->
            <div class="service-card">
                <div class="service-icon">
                    <i class="fa-solid fa-stethoscope" style="font-size: 40px;"></i>
                </div>
                <h3>Y - DƯỢC</h3>
                <p style="font-family: font6;">Tại Cao đẳng Sài Gòn Gia Định, nhóm ngành Y Dược là một trong những khối
                    ngành trọng điểm, được nhà trường tập trung đầu tư để đào tạo ra đội ngũ nhân lực chất lượng cao,
                    đáp ứng nhu cầu chăm sóc sức khỏe cộng đồng ngày càng lớn.</p>
            </div>

            <!-- Project Management -->
            <div class="service-card">
                <div class="service-icon">
                    <i class="fa-solid fa-scale-balanced" style="font-size: 40px;"></i>
                </div>
                <h3>XÃ HỘI - DU LỊCH - PHÁP LUẬT</h3>
                <p style="font-family: font6;">Với phương pháp đào tạo thực tiễn, gắn liền với nhu cầu xã hội và doanh
                    nghiệp, Cao đẳng Sài Gòn Gia Định là lựa chọn phù hợp cho những bạn trẻ năng động, yêu thích giao
                    tiếp, thích khám phá và mong muốn làm việc trong các lĩnh vực dịch vụ hoặc pháp luật.</p>
            </div>

            <!-- Structural Engineering -->
            <div class="service-card navy">
                <div class="service-icon">
                    <i class="fa-solid fa-book-medical" style="font-size: 40px;"></i>
                </div>
                <h3>VĂN HOÁ THPT 9+</h3>
                <p>Chương trình Văn hóa THPT 9+ tại Cao đẳng Sài Gòn Gia Định là một mô hình đào tạo đặc biệt dành cho
                    các bạn học sinh đã tốt nghiệp THCS. Đây là một lựa chọn tối ưu giúp các em vừa hoàn thành chương
                    trình văn hóa phổ thông, vừa học nghề ngay, rút ngắn thời gian và tăng cơ hội việc làm sau này.</p>
            </div>
        </div>
    </div>
</section>

{% include 'cauhoithuonggap.html' %}

{% include 'clb.html' %}
{% include 'sv.html' %}
{% include 'sansang.html' %}

        <div class="counter-section">
            <p>Tổng số lượt truy cập :</p>
            <div class="counter-value" id="totalVisitors">Đang tải...</div>
        </div>
        <div class="counter-section">
            <p>Số người đang online:</p>
            <div class="online-value" id="onlineUsers">Đang tải...</div>
        </div>
    </div>

    <script>
        function updateCounts() {
            fetch('/get_counts')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('totalVisitors').innerText = data.total_visitors;
                    document.getElementById('onlineUsers').innerText = data.online_users;
                })
                .catch(error => console.error('Lỗi khi lấy số liệu:', error));
        }

        // Cập nhật ngay khi tải trang
        updateCounts();

        // Cập nhật sau mỗi 10 giây để giữ số người online được cập nhật
        setInterval(updateCounts, 10000); // 10000ms = 10 giây
    </script>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/user_visit_web.js') }}"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="{{ url_for('static', filename='js/stats-animation.js') }}"></script>

<script src="{{ url_for('static', filename='js/about-animation.js') }}"></script>
<script src="{{ url_for('static', filename='js/services-animation.js') }}"></script>
<script src="{{ url_for('static', filename='js/jsnganh.js') }}"></script>
<script src="{{ url_for('static', filename='js/dangkytuvan.js') }}"></script>
<script>
// Add touch support for mobile devices
document.addEventListener('DOMContentLoaded', function() {
    // Handle touch events for major cards
    const majorCards = document.querySelectorAll('.major-card');
    majorCards.forEach(card => {
        card.addEventListener('touchstart', function() {
            this.classList.add('touched');
        });
        
        card.addEventListener('touchend', function() {
            this.classList.remove('touched');
        });
    });

    // Improve form usability on mobile
    const form = document.getElementById('tourForm');
    if (form) {
        const inputs = form.querySelectorAll('input, select');
        inputs.forEach(input => {
            input.addEventListener('focus', function() {
                // Scroll to input when focused
                setTimeout(() => {
                    this.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 300);
            });
        });
    }

    // Initialize AOS with mobile-friendly settings
    AOS.init({
        disable: 'mobile', // Disable animations on mobile
        once: true, // Only animate once
        duration: 600
    });

    // Improve slider performance on mobile
    const slider = document.querySelector('.banner-slider');
    if (slider) {
        let touchStartX = 0;
        let touchEndX = 0;

        slider.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].clientX;
        }, { passive: true });

        slider.addEventListener('touchmove', function(e) {
            touchEndX = e.touches[0].clientX;
        }, { passive: true });

        slider.addEventListener('touchend', function() {
            const swipeDistance = touchEndX - touchStartX;
            if (Math.abs(swipeDistance) > 50) {
                if (swipeDistance > 0) {
                    // Swipe right
                    document.querySelector('.prev-btn').click();
                } else {
                    // Swipe left
                    document.querySelector('.next-btn').click();
                }
            }
        });
    }

    // --- Logic xử lý banner từ API ---
    const bannerSlidesContainer = document.getElementById('banner-slides');
    const sliderDotsContainer = document.getElementById('slider-dots');
    const prevBtn = document.querySelector('.prev-btn');
    const nextBtn = document.querySelector('.next-btn');
    const apiUrl = 'https://saigongiadinh.pythonanywhere.com/edit-banner/';

    let currentSlide = 0;
    let slides = [];
    let dots = [];
    let slideInterval;

    function showSlide(index) {
        if (slides.length === 0) return;

        // Reset tất cả slide và dots
        slides.forEach((slide, i) => {
            slide.style.display = 'none';
            dots[i].classList.remove('active');
        });

        // Hiển thị slide hiện tại và dot tương ứng
        slides[index].style.display = 'block';
        dots[index].classList.add('active');
    }

    function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
    }

    function prevSlide() {
        currentSlide = (currentSlide - 1 + slides.length) % slides.length;
        showSlide(currentSlide);
    }

    function startSlideShow() {
        stopSlideShow(); // Dừng nếu đang chạy
        slideInterval = setInterval(nextSlide, 5000); // Tự động chuyển slide sau 5 giây
    }

    function stopSlideShow() {
        clearInterval(slideInterval);
    }

    // Fetch banner data
    fetch(apiUrl)
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok ' + response.statusText);
            }
            return response.json();
        })
        .then(data => {
            // Lọc chỉ các banner đang hoạt động và sắp xếp theo 'order'
            const activeBanners = data.filter(banner => banner.is_active).sort((a, b) => a.order - b.order);

            activeBanners.forEach((banner, index) => {
                // Tạo slide div
                const slideDiv = document.createElement('div');
                slideDiv.classList.add('slide');

                // Tạo img element
                const imgElement = document.createElement('img');
                imgElement.src = banner.image_path;
                imgElement.alt = `Banner ${banner.id}`;

                slideDiv.appendChild(imgElement);
                bannerSlidesContainer.appendChild(slideDiv);
                slides.push(slideDiv); // Thêm vào mảng slides

                // Tạo dot
                const dotSpan = document.createElement('span');
                dotSpan.classList.add('dot');
                dotSpan.addEventListener('click', () => {
                    currentSlide = index;
                    showSlide(currentSlide);
                    startSlideShow(); // Bắt đầu lại slideshow khi dot được click
                });
                sliderDotsContainer.appendChild(dotSpan);
                dots.push(dotSpan); // Thêm vào mảng dots
            });

            if (slides.length > 0) {
                showSlide(currentSlide); // Hiển thị slide đầu tiên
                startSlideShow(); // Bắt đầu slideshow
            } else {
                // Xử lý trường hợp không có banner nào hoạt động
                bannerSlidesContainer.innerHTML = '<p style="text-align: center; padding: 20px;">Hiện không có banner nào để hiển thị.</p>';
                prevBtn.style.display = 'none';
                nextBtn.style.display = 'none';
            }
        })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
            bannerSlidesContainer.innerHTML = '<p style="text-align: center; padding: 20px; color: red;">Không thể tải banner. Vui lòng thử lại sau.</p>';
            prevBtn.style.display = 'none';
            nextBtn.style.display = 'none';
            sliderDotsContainer.style.display = 'none';
        });

    // Event Listeners cho nút điều hướng
    prevBtn.addEventListener('click', () => {
        prevSlide();
        startSlideShow(); // Bắt đầu lại slideshow khi nút được click
    });
    nextBtn.addEventListener('click', () => {
        nextSlide();
        startSlideShow(); // Bắt đầu lại slideshow khi nút được click
    });

    // Dừng slideshow khi chuột di vào slider và bắt đầu lại khi chuột rời đi
    const bannerSlider = document.querySelector('.banner-slider');
    if (bannerSlider) {
        bannerSlider.addEventListener('mouseenter', stopSlideShow);
        bannerSlider.addEventListener('mouseleave', startSlideShow);
    }
});
</script>
 <script>
    document.addEventListener('contextmenu', function(e) {
        e.preventDefault(); // Ngăn chặn hành vi mặc định của chuột phải
        // Bạn có thể thêm một thông báo tùy chỉnh ở đây nếu muốn
        // alert("Chức năng chuột phải đã bị vô hiệu hóa.");
    });
</script>
<script>
    document.onkeydown = function(e) {
        // Chặn F12
        if (e.keyCode == 123) {
            return false;
        }
        // Chặn Ctrl+Shift+I (hoặc J, C)
        if (e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0))) {
            return false;
        }
        // Chặn Ctrl+U (View Page Source)
        if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) {
            return false;
        }
    };
</script>
{% endblock %}